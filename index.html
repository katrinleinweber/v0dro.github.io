
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Travel &lt;code&gt; Music</title>
  <meta name="author" content="Sameer Deshmukh">

  
  <meta name="description" content="This year I was the admin for the GSOC projects of the SciRuby foundation. It’s also the first time I mentored a student, having been a student &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://v0dro.github.io">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Travel &lt;code&gt; Music" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-55005305-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<!-- mathjax config similar to math.stackexchange -->
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  jax: ["input/TeX", "output/HTML-CSS"],
  tex2jax: {
    inlineMath: [ ['$', '$'] ],
    displayMath: [ ['$$', '$$']],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  },
  messageStyle: "none",
  "HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"] }
});
</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML" type="text/javascript"></script>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Travel &lt;code&gt; Music</a></h1>
  
    <h2>A place where I share my experiences with Travel, Programming and Music</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:v0dro.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/blog/archives">Archive</a></li>
  <li><a href="/travel">Travel</a></li>
  <li><a href="/code">Code</a></li>
  <li><a href="/music">Music</a></li>
  <li><a href="/about">About</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/08/27/advice-for-future-gsoc-students-and-mentors-based-on-my-experience/">Advice for Future GSOC Students and Mentors Based on My Experience.</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-08-27T18:04:51+05:30'><span class='date'><span class='date-month'>Aug</span> <span class='date-day'>27</span><span class='date-suffix'>th</span>, <span class='date-year'>2016</span></span> <span class='time'>6:04 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This year I was the admin for the GSOC projects of the <a href="">SciRuby foundation</a>. It’s also the first time I mentored a student, having been a student myself last year. Being a mentor is pretty tough task, and for some reason is underestimated by many. I was lucky to have the experience and support of co-admins <a href="">@mohawkjohn</a> and <a href="">@pjotrp</a> throughout the GSOC period.</p>

<p>GSOC has now come to a close. I have learned a great deal myself in the past 3 months, and thought I would share some of my learnings in this blog post in the interest of future GSOC students and mentors.</p>

<h2 id="advice-for-future-students">Advice for future students</h2>

<p><strong>Writing a proposal</strong></p>

<p>Research your ideas at least for a day before asking your first question. Mentors are volunteers and it’s important to respect the time and effort that they’re putting into FOSS. When you do propose an idea, you should also have a good knowledge of why you’re working on that idea in the first place and what kind of long term impact the realization of that idea can have. Putting this across through your proposal can have a positive on your selection. Know how to ask questions on mailing lists. A properly researched question should show that you have first taken an effort to understand the topic and are asking the question only because you got stuck somewhere.</p>

<p><strong>Community bonding</strong></p>

<p>Make sure you figure out what exactly you have to research and learn during the community bonding phase. There’s a lot of things out there that can be learned, but only a few specific things will helpful for your project. Focus on them only. Ask specific questions to your mentor.</p>

<p><strong>Coding</strong></p>

<p>Setup a daily schedule for coding and stick to it. Constantly keep in touch with your mentor and make sure they know your progress as well as you do. If you run into previously unseen problems (frequent in programming), tell mentor about this ASAP and work out a solution together.</p>

<p>Don’t burn yourself out in your enthusiasm. Take regular breaks. Overworking does more harm than good.</p>

<h2 id="advice-for-future-mentors">Advice for future mentors</h2>

<p><strong>Student selection</strong></p>

<p>Short story:
If you’re unsure about a student, <em>don’t select him</em>. It’s better to have a more quality than quantity.</p>

<p>Long story:
First and foremost, it is very important to establish some organization-wide procedure that will be followed when selecting a student. As a start, consider making a proposal template that contains all the information and details that the student needs to fill up when submitting the proposal. Have a look at the <a href="https://github.com/SciRuby/sciruby/wiki/GSoC-2016-Student-Application">SciRuby application template</a> as an example.</p>

<p>When students start asking questions on the mailing list, it is important for the org admins to keep a watch on students and get a rough idea of who asks the better questions and who don’t. Community participation is a great measure of understanding whether a student will live upto your expectations or not. A proposal with a bad first draft might just turn out to be great simply because the student is open to feedback and is willing to put it in the effort to work on it.</p>

<p>We have 3 rounds:
First round every mentor rates their <em>own</em> student only. In the next round all mentors rate <em>all</em> students (students without a mentor and bad proposals drop off).</p>

<p>In each case when rating a student. mentors put in a comment, making sure to tell how a student has interacted in the proposal phase, what his current coding looks like, how responsive he is. Mentors can still push their students to do stuff. We like it when students keep responsive in this phase.</p>

<p>In the 3rd round the <em>org admins</em> make the final ranking to set the number of slots. By this stage we are pretty clear about the individuals involved (and note that mentor activity counts).  When Google  allocates the slots the top-ranked students get in.</p>

<p><strong>Coding period</strong></p>

<p>Make sure you communicate with your student that they are supposed to send you <em>daily</em> updates of their progress. One paragraph about their work that particular day should suffice.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/08/21/setting-up-a-lexical-analyser-and-parser-in-ruby/">Setting Up a Lexical Analyser and Parser in Ruby</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-08-21T12:36:05+05:30'><span class='date'><span class='date-month'>Aug</span> <span class='date-day'>21</span><span class='date-suffix'>st</span>, <span class='date-year'>2016</span></span> <span class='time'>12:36 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I wrote this post as I was setting up the lexer and parser for Rubex, a new superset of Ruby that I’m developing.</p>

<p>Let’s demonstrate the basic working of a lexical analyser and parser in action with a demonstration of a very simple addition program. Before you start, please make sure <a href="https://github.com/ruby/rake">rake</a>, <a href="https://github.com/seattlerb/oedipus_lex">oedipus_lex</a> and <a href="https://github.com/tenderlove/racc">racc</a> are installed on your computer.</p>

<h3 id="configuring-the-lexical-analyser">Configuring the lexical analyser</h3>

<p>The most fundamental need of any parser is that it needs string tokens to work with, which we will provide by way of lexical analysis by using the <a href="https://github.com/seattlerb/oedipus_lex">oedipus_lex</a> gem (the logical successor of <a href="https://github.com/tenderlove/rexical">rexical</a>). Go ahead and create a file <code>lexer.rex</code> with the following code:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
</pre></td><td class="code"><pre><code class="ruby"><span class="line"><span class="k">class</span> <span class="nc">AddLexer</span>
</span><span class="line"><span class="n">macro</span>
</span><span class="line">  <span class="no">DIGIT</span>         <span class="sr">/\d+/</span>
</span><span class="line"><span class="n">rule</span>
</span><span class="line">  <span class="sr">/</span><span class="si">#{</span><span class="no">DIGIT</span><span class="si">}</span><span class="sr">/</span>    <span class="p">{</span> <span class="o">[</span><span class="ss">:DIGIT</span><span class="p">,</span> <span class="n">text</span><span class="o">.</span><span class="n">to_i</span><span class="o">]</span> <span class="p">}</span>
</span><span class="line">  <span class="sr">/.|\n/</span>        <span class="p">{</span> <span class="o">[</span><span class="n">text</span><span class="p">,</span> <span class="n">text</span><span class="o">]</span> <span class="p">}</span>
</span><span class="line"><span class="n">inner</span>
</span><span class="line">  <span class="k">def</span> <span class="nf">do_parse</span><span class="p">;</span> <span class="k">end</span> <span class="c1"># this is a stub.</span>
</span><span class="line"><span class="k">end</span> <span class="c1"># AddLexer</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>In the above code, we have defined the lexical analyser using Oedipus Lex’s syntax inside the <code>AddLexer</code> class. Let’s go over each element of the lexer one by one:</p>

<p><strong>macro</strong></p>

<p>The macro keyword lets you define macros for certain regular expressions
that you might need to write repeatedly. In the above lexer, the macro <code>DIGIT</code> is a regular expression (<code>\d+</code>) for detecting one or more integers. We place the regular expression inside forward slashes (<code>/../</code>) because oedipus_lex requires it that way. The lexer can handle any valid Ruby regular expression. See the Ruby docs for details on Ruby regexps.</p>

<p><strong>rule</strong></p>

<p>The section under the <code>rule</code> keyword defines your rules for the lexical analysis. Now it so happens that we’ve defined a macro for detecting digits, and in order to use that macro in the rules, it must be inside a Ruby string interpolation (<code>#{..}</code>). The line to the right of the <code>/#{DIGIT}/</code> states the action that must be taken if such a regular expression is encountered. Thus the lexer will return a Ruby Array that contains the first element as <code>:DIGIT</code>. The second element uses the <code>text</code> variable. This is a reserved variable in lex that holds the text that the lexer has matched. Similar the second rule will match any character (<code>.</code>) or a newline (<code>/n</code>) and return an <code>Array</code> with <code>[text, text]</code> inside it.</p>

<p><strong>inner</strong></p>

<p>Under the <code>inner</code> keyword you can specify any code that you want to occur inside your lexer class. This can be any logic that you want your lexer to execute. The Ruby code under the <code>inner</code> section is copied as-is into the final lexer class. In the above example, we’ve written an empty method called <code>do_parse</code> inside this section. This method is mandatory if you want your lexer to sucessfully execute. We’ll be coupling the lexer with <code>racc</code> shortly, so unless you want to write your own parsing logic, you should leave this method empty.</p>

<h3 id="configuring-the-parser">Configuring the parser</h3>

<p>In order for our addition program to be successful, it needs to know what to do with the tokens that are generated by the lexer. For this purpose, we need <a href="">racc</a>, an LALR(1) parser generator for Ruby. It is similar to yacc or bison and let’s you specify grammars easily.</p>

<p>Go ahead and create a file called <code>parser.racc</code> in the same folder as the previous <code>lexer.rex</code> and <code>Rakefile</code>, and put the following code inside it:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
<span class="line-number">20</span>
</pre></td><td class="code"><pre><code class="ruby"><span class="line"><span class="k">class</span> <span class="nc">AddParser</span>
</span><span class="line"><span class="n">rule</span>
</span><span class="line">  <span class="ss">target</span><span class="p">:</span> <span class="n">exp</span> <span class="p">{</span> <span class="n">result</span> <span class="o">=</span> <span class="mi">0</span> <span class="p">}</span>
</span><span class="line">
</span><span class="line">  <span class="ss">exp</span><span class="p">:</span> <span class="n">exp</span> <span class="s1">&#39;+&#39;</span> <span class="n">exp</span> <span class="p">{</span> <span class="n">result</span> <span class="o">+=</span> <span class="n">val</span><span class="o">[</span><span class="mi">2</span><span class="o">]</span><span class="p">;</span> <span class="nb">puts</span> <span class="n">result</span> <span class="p">}</span>
</span><span class="line">     <span class="o">|</span> <span class="no">DIGIT</span>
</span><span class="line"><span class="k">end</span>
</span><span class="line">
</span><span class="line"><span class="o">----</span> <span class="n">header</span>
</span><span class="line"><span class="n">require_relative</span> <span class="s1">&#39;lexer.rex.rb&#39;</span>
</span><span class="line">
</span><span class="line"><span class="o">----</span> <span class="n">inner</span>
</span><span class="line"><span class="k">def</span> <span class="nf">next_token</span>
</span><span class="line">  <span class="vi">@lexer</span><span class="o">.</span><span class="n">next_token</span>
</span><span class="line"><span class="k">end</span>
</span><span class="line">
</span><span class="line"><span class="k">def</span> <span class="nf">prepare_parser</span> <span class="n">file_name</span>
</span><span class="line">  <span class="vi">@lexer</span> <span class="o">=</span> <span class="no">AddLexer</span><span class="o">.</span><span class="n">new</span>
</span><span class="line">  <span class="vi">@lexer</span><span class="o">.</span><span class="n">parse_file</span> <span class="n">file_name</span>
</span><span class="line"><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>As you can see, we’ve put the logic for the parser inside the <code>AddParser</code> class. Notice that in oedipus_lex, only the parsing logic exists inside the class and everything else (i.e under <code>header</code> and <code>inner</code>) exists <em>outside</em> the class. Let’s go over each part of the parser one by one:</p>

<p><strong>class AddParser</strong></p>

<p>This is the core class that contains the parsing logic for the addition parser. Similar to <code>oedipus_lex</code>, it contains a <code>rule</code> section that specifies the grammar. The parser expects tokens in the form of <code>[:TOKEN_NAME, matched_text]</code>. The <code>:TOKEN_NAME</code> must be a symbol. This token name is matched to literal characters in the grammar (<code>DIGIT</code> in the above case). <code>token</code> and <code>expr</code> are varibles. Have a look at <a href="https://en.wikipedia.org/wiki/LALR_parser">this introduction to LALR(1) grammars</a> for further information.</p>

<p><strong>header</strong></p>

<p>The <code>header</code> keyword tells racc what code should be put at the top of the parser that it generates. You usually put your <code>require</code> statements here. In this case, we load the lexer class so that the parser can use it for accessing the tokens generated by the lexer. Notice that <code>header</code> has 4 hyphens (<code>-</code>) and a space before it. This is mandatory if your program is to not malfunction.</p>

<p><strong>inner</strong></p>

<p>The <code>inner</code> keyword tells racc what should be put <em>inside</em> the generated parser class. As you can see there are two methods in the above example - <code>next_token</code> and <code>prepare_parser</code>. The <code>next_token</code> method is mandatory for the parser to function and you must include it in your code. It should contain logic that will return the next token for the parser to consider. Moving on the <code>prepare_parser</code> method, it takes a file name that is to be parsed as an argument (how we pass that argument in will be seen later), and initialzes the lexer. It then calls the <code>parse_file</code> method, which is present in the lexer class by default.</p>

<p>The <code>next_token</code> method in turn uses the <code>@lexer</code> object’s <code>next_token</code> method to get a token generated by the lexer so that it can be used by the parser.</p>

<h3 id="putting-it-all-together">Putting it all together</h3>

<p>Our lexical analyser and parser are now coupled to work with each other, and we now use them in a Ruby program to parse a file. Create a new file called <code>adder.rb</code> and put the following code in it:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
</pre></td><td class="code"><pre><code class="ruby"><span class="line"><span class="n">require_relative</span> <span class="s1">&#39;parser.racc.rb&#39;</span>
</span><span class="line">
</span><span class="line"><span class="n">file_name</span> <span class="o">=</span> <span class="no">ARGV</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
</span><span class="line"><span class="n">parser</span> <span class="o">=</span> <span class="no">AddParser</span><span class="o">.</span><span class="n">new</span>
</span><span class="line"><span class="n">parser</span><span class="o">.</span><span class="n">prepare_parser</span><span class="p">(</span><span class="n">file_name</span><span class="p">)</span>
</span><span class="line"><span class="n">parser</span><span class="o">.</span><span class="n">do_parse</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>The <code>prepare_parser</code> is the same one that was defined in the <code>inner</code> section of the <code>parser.racc</code> above. The <code>do_parse</code> method called on the parser will signal the parser to start doing it’s job.</p>

<p>In a separate file called <code>text.txt</code> put the following text:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="ruby"><span class="line"><span class="mi">2</span><span class="o">+</span><span class="mi">2</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Oedipus Lex does not have a command line tool like rexical for generating a lexer from the logic specified, but rather has a bunch of rake tasks defined for doing this job.
So now create a <code>Rakefile</code> in the same folder and put this code inside it:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
</pre></td><td class="code"><pre><code class="ruby"><span class="line"><span class="nb">require</span> <span class="s1">&#39;oedipus_lex&#39;</span>
</span><span class="line">
</span><span class="line"><span class="no">Rake</span><span class="o">.</span><span class="n">application</span><span class="o">.</span><span class="n">rake_require</span> <span class="s2">&quot;oedipus_lex&quot;</span>
</span><span class="line">
</span><span class="line"><span class="n">desc</span> <span class="s2">&quot;Generate Lexer&quot;</span>
</span><span class="line"><span class="n">task</span> <span class="ss">:lexer</span>  <span class="o">=&gt;</span> <span class="s2">&quot;lexer.rex.rb&quot;</span>
</span><span class="line">
</span><span class="line"><span class="n">desc</span> <span class="s2">&quot;Generate Parser&quot;</span>
</span><span class="line"><span class="n">task</span> <span class="ss">:parser</span> <span class="o">=&gt;</span> <span class="ss">:lexer</span> <span class="k">do</span>
</span><span class="line">  <span class="sb">`racc parser.racc -o parser.racc.rb`</span>
</span><span class="line"><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Running <code>rake parser</code> will generate a two new files - <code>lexer.rex.rb</code> and <code>parser.racc.rb</code> - which will house the classes and logic for the lexer and parser, respectively. You can use your newly written lexer + parser with a <code>ruby adder.rb text.txt</code> command. It should output <code>4</code> as the answer.</p>

<p>You can find all the code in this blogpost <a href="https://github.com/v0dro/scratch/tree/master/lexer_parser">here</a>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/08/16/random-thoughts-on-music-theory/">Random Thoughts on Music Theory.</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-08-16T19:07:01+05:30'><span class='date'><span class='date-month'>Aug</span> <span class='date-day'>16</span><span class='date-suffix'>th</span>, <span class='date-year'>2016</span></span> <span class='time'>7:07 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Title explains what this is about.</p>

<h3 id="august-2016">16 August 2016</h3>

<p>Was checking out <a href="https://www.youtube.com/watch?v=0qIP3_YLKpk">this</a> video (Contortionist - Language 1) and learned about standard C# tuning on a 6 string bass guitar today. He’s used tuning G# C# F# B E A. Killer bass tone. <a href="https://en.wikipedia.org/wiki/D%E2%99%AD_tuning">This wiki</a> says something different about C# standard, though.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/08/05/searching-for-graduate-degree-courses-in-usa-and-japan/">Searching for Graduate Degree Courses in USA and Japan.</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-08-05T16:29:23+05:30'><span class='date'><span class='date-month'>Aug</span> <span class='date-day'>5</span><span class='date-suffix'>th</span>, <span class='date-year'>2016</span></span> <span class='time'>4:29 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I’m currently searching for master’s degree courses in various colleges in Japan and USA. I want to pursue a Computer Science degree specializing in distributed systems. Searching for the right graduate degree courses can get depressing. Here I’m posting various links and leads that I came across through the course of my search.</p>

<h3 id="august-2016">5 August 2016</h3>

<p>Searching for options in Japan and started with University of Tokyo. Most of their courses seem to be in Japanese but there are a few in English as well. <a href="http://www.i.u-tokyo.ac.jp/ist_en/en-course/prg.shtml">This page</a> has some starting info about the English courses. Also found a collection of colleges <a href="http://www.mastersportal.eu/study-options/270286872/computer-science-it-japan.html">here</a>.</p>

<p>So apparently the process for getting into a Japanese college for Master’s can take two paths. The first is like so:</p>

<ol>
  <li>Talk to a professor and gain a research assistantship with him/her.</li>
  <li>Give an exam and enroll for a 2 year master’s course if you pass that exam.</li>
</ol>

<p>The second is directly give the exam, but I’m not sure how that can be done since they all appear to be written examinations that are conducted in Japan.</p>

<h3 id="august-2016-1">16 August 2016</h3>

<p>Having a look at the graudate schools of <a href="http://www.u-tokyo.ac.jp/en/academics/grad_ist.html">University of Tokyo</a>, <a href="http://educ.titech.ac.jp/eng/">Tokyo Insitute of Technology</a> and Kyoto University today.</p>

<p><strong>University of Tokyo</strong></p>

<p>UoT seems to have some special selection process for international applicants (<a href="http://www.i.u-tokyo.ac.jp/ist_en/howto_apply/special.shtml">link</a>), though it’s not useful for me. There’s a decent contact page <a href="http://www.i.u-tokyo.ac.jp/edu/entra/index_e.shtml">here</a>. They’ve also put up a check list for applications <a href="http://www.i.u-tokyo.ac.jp/edu/entra/pdf/check_list_m_e_revised.pdf">here</a>.</p>

<p><strong>Tokyo Inst. of Technology</strong></p>

<p>This also has a good <a href="http://www.titech.ac.jp/english/graduate_school/">graduate program</a>.Tokyo Inst. of Technology has an <a href="http://www.titech.ac.jp/english/graduate_school/international/international_graduate/">international graduate program for overseas applicants</a>. The courses seems to be in English mostly. The school of computer science has also <a href="http://www.titech.ac.jp/english/graduate_school/international/international_graduate/participating.html">participated</a> in the IGP and accept the IGP(A), IGP(B)3 and IGP(C) types of applicants. I seem to be most qualified for the <a href="http://www.titech.ac.jp/english/graduate_school/international/graduate_program_a/index.html">IGP(A)</a> and <a href="http://www.titech.ac.jp/english/graduate_school/international/graduate_program_c/overseas.html">IGP(C)</a> applications. </p>

<p>The ‘Education Program of Advanced Information Technology Leaders’ seems to be most relevant to my case. <a href="http://www.titech.ac.jp/guide/guide_28/English/index.html">This</a> looks like a good PDF to brief about the program.</p>

<p>All the courses require students to arrange for a Tokyo Tech faculty member to serve as their academic supervisor. <a href="http://search.star.titech.ac.jp/titech-ss/lang.act?forward=search.act&amp;lang=en&amp;">This handy web application</a> allows you to do that. They also have the MEXT scholarship for outstanding students.</p>

<p><strong>University of Kyoto</strong></p>

<p><a href="http://www.kuis.kyoto-u.ac.jp/kuis/">Page of dept. of information science</a>.</p>

<h3 id="august-2016-2">17 August 2016</h3>

<p>Continuing my research on Tokyo Inst. of Technology. The PDF I pointed to yesterday brought out an interesting observation - IGP(A) students and IGP(C) students seem to have different course work.</p>

<h3 id="august-2016-3">18 August 2016</h3>

<p>It seems the IGP C program at Tokyo Tech. is best for me. I will research that further today. Most probably I’ll need to do a 6 month research assistantship first. <a href="http://www.cs.titech.ac.jp/labs-e.html">Here’s a list</a> of the research groups of the Computer Sci. deptartment at Tokyo Tech.</p>

<h3 id="august-2016-4">20 August 2016</h3>

<p><strong>Tokyo Inst. of Technology</strong></p>

<p>Found a list of faculties under the IGP(C) program <a href="http://www.titech.ac.jp/english/graduate_school/international/graduate_program_c/pdf/listoffaculties_1609c.pdf">here</a>.</p>

<h3 id="august-2016-5">23 August 2016</h3>

<p>Had a look at Kyushu Inst. of Technology today. The <a href="http://www.kyutech.ac.jp/english/admissions/guidelines/iizuka_master.html">program for international students</a> looks good.</p>

<p>Also check out scholarship opportunities at Tokyo Inst. of Technology. Links - <a href="http://www.titech.ac.jp/english/graduate_school/international/scholarships/">1</a>, <a href="http://www.titech.ac.jp/english/graduate_school/international/scholarships/before_enrollment.html">2</a>, <a href="http://www.mastersportal.eu/universities/scholarships/13128/tokyo-institute-of-technology.html">3</a>. There are a bunch of scholarships that can be applied to before you enrol in university. Have a look <a href="http://www.titech.ac.jp/english/graduate_school/international/scholarships/before_enrollment.html">here</a>.</p>

<p>There’s also the <a href="http://www.titech.ac.jp/english/graduate_school/international/scholarships/mext_scholarship.html">MEXT scholarship</a>from the Japanese government.</p>

<h3 id="august-2016-6">24 August 2016</h3>

<p>Found an interesting <a href="http://www.ic.u-tokyo.ac.jp/ic/guidance/guide05_e.html">FAQ on the UoT website</a>.</p>

<p>Also having a look at <a href="http://www.jasso.go.jp/en/study_j/scholarships/brochure.html">JASSO scholarships</a>. Found some great scholarships <a href="http://www.jasso.go.jp/en/study_j/scholarships/__icsFiles/afieldfile/2016/03/29/scholarshipse_private.pdf">here</a>.</p>

<h3 id="august-2016-7">25 August 2016</h3>

<p>Found some scholarships. Also, I can also enrol as a <a href="http://www.titech.ac.jp/english/graduate_school/international/research_students/privately_funded.html">privately funded research student</a> at Tokyo Tech.</p>

<p><a href="http://www.titech.ac.jp/english/graduate_school/international/research_students/syutugan/data/applicationoutline.pdf">This</a> is a PDF that talks about privately funded research students.</p>

<p>Also checking out <a href="http://www.global.keio.ac.jp/en/education/admissions/graduate.html">Keio University</a> today. They have a program for internation graduate students. Have a look <a href="http://www.st.keio.ac.jp/english/admissions/masters_program/index.html">here</a>.</p>

<p>I also had a look at the <a href="http://www.kyoto-u.ac.jp/en/education-campus/international/students1">Kyoto University IGP</a>. Here’s a <a href="http://www.shanghairanking.com/World-University-Rankings-2014/Japan.html">listing of Japanese universities</a>.</p>

<p>### </p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/07/12/random-thoughts-on-bass-tone/">Random Thoughts on Bass Tone</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-07-12T16:39:06+05:30'><span class='date'><span class='date-month'>Jul</span> <span class='date-day'>12</span><span class='date-suffix'>th</span>, <span class='date-year'>2016</span></span> <span class='time'>4:39 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>This post is about my learnings about bass tone. I’m currently using the following rig:</p>

<ul>
  <li>Laney RB2 amplifier</li>
  <li>Tech 21 Sansamp Bass Driver Programmable DI</li>
  <li>Fender Mexican Standard Jazz Bass (4 string)</li>
</ul>

<p>I will updating this post as and when I learn something new that I’d like to document or share. Suggestions are welcome. You can email me (see the ‘about’ section) or post a comment below.</p>

<h4 id="july-2016">26 July 2016</h4>

<p>As of now I’m tweaking the sansamp and trying to achieve good tone that will compliment the post/prog rock sound of my band <a href="">Cat Kamikazee</a>. I’m also reading up on different terminologies and use cases on the internet. For instance I found <a href="http://www.premierguitar.com/articles/solving-the-bass-di-dilemma-1">this explanation</a> on DI boxes quite useful. For instance I learned that the ‘XLR Out Pad’ button on the sansamp actually provides a 20 db cut to the soundboard if your signal is too hot.</p>

<p>I am trying to couple the sansamp with a basic overdrive pedal I picked up from a friend. <a href="https://www.talkbass.com/threads/sansamp-bddi-pedal-placement.843750/">This thread on talkbass</a> is pretty useful for that. The guy who answered the question states that it’s better to place the sansamp last in the chain so that the DI can deliver the output of the sound chain.</p>

<p>So the BLEND knob on the sansamp modulates how much of the dry signal is mixed with the sansamp tube amplifier emulation circutry. Can be useful when chaining effects pedals with the sansamp by reducing the blend and letting more of the dry signal pass through. Btw the <em>bass</em>, <em>treble</em> and <em>level</em> controls remain active irrespective of the position of BLEND.</p>

<p>One thing that was a little confusing was the whole thing about ‘harmonic partials’. I found a pretty informative thread about the same on <a href="https://www.talkbass.com/threads/what-are-upper-harmonics-or-harmonic-partials.471553/">this TalkBass thread</a>.</p>

<p><a href="http://www.studybass.com/gear/bass-effects/bass-compressor-settings/">Here’s</a> an interesting piece on compressors.</p>

<p>Some more useful links I came across over the course of the past few days:</p>

<ul>
  <li>https://theproaudiofiles.com/amp-overdrive-vs-pedal-overdrive/</li>
  <li>http://www.offbeatband.com/2009/08/the-difference-between-gain-volume-level-and-loudness/</li>
</ul>

<h4 id="july-2016-1">28 July 2016</h4>

<p>Found an interesting and informative piece on bass pedals <a href="http://www.premierguitar.com/articles/Bass_Pedals_Basic_to_Playhouse">here</a>. It’s a good walkthrough of different pedal types and their functionality and purpose.</p>

<p>I wanted to check out some overdrive pedals today but was soon sinking in a sea of terminologies. One thing that intrigued me is the difference between an overdrive, distortion and fuzz. I found a <a href="http://www.gibson.com/News-Lifestyle/Features/en-us/effects-explained-overdrive-di.aspx">pretty informative article</a> on this topic. The author has the following to say about these 3 different but seemingly similar things.</p>

<p>I had a look at the Darkglass b3k and b7k pedals too. They look like promising overdrive pedals. I’ll explore the b3k more since the only difference between the 3 and the 7 is that the 7 also functions as a DI box and has an EQ, while the 3 doesn’t. I already have a DI with a 2 band EQ in the sansamp.</p>

<h4 id="july-2016-2">29 July 2016</h4>

<p>One thing that I noticed when tweaking my sansamp is the level of ‘distortion’ in my tone varies a LOT when you change the bass or treble keeping the drive at the same level. Why does this happen?</p>

<h4 id="august-2016">2 August 2016</h4>

<p>Trying to dive further into distortion today. Found <a href="http://www.tyquinn.com/2009/lead-tone-part-3-distortion/">this</a> article kind of useful. It relates mostly to lead guitar tones, but I think it applies in a general case too. I learned about symmetric and asymmetric clipping in that article. </p>

<p>According to the article, symmetric clipping is more focused and clear, because it is only generating one set of harmonic overtones. Since asymmetric clipping can be hard-clipped on one side, and soft-clipped on the other, it has the potential to create very thick complex sounds. This means that if you want plenty of overtones, but do not want a lot of gain, asymmetric clipping can be useful. For full-blown distortion symmetric clipping is usually more suitable, since high-gain tones are already very harmonically complex. <em>Typically asymmetric clipping will have a predominant first harmonic, which the symmetric clipping will not</em> (that’s probably why in <a href="https://www.youtube.com/watch?v=pzua3-xZKHM">this</a> video, the SD1 sounds brigther than than the TS-9). High gain distortion tones sound best with most of the distortion coming from the pre-amp, so try to use a fairly neutral pickup or even a slightly ‘bright’ pickup.</p>

<p>The follow up to the above post <a href="http://www.tyquinn.com/2009/lead-tone-part-4-eq-for-distortion-voicing/">talks about EQ in relation with distortion</a>. It has stuff on pre and post EQ distortion and how it can affect the overall tone. If you place the EQ before the distortion, you can actually shape which frequencies will be clipped. However if you place it after the distortion then the EQ will only act for shaping the already distorted tone. Pre-dist EQ is more useful in most cases since it let’s you control the frequencies for clipping.</p>

<p>It also says that humbucking pickups have a mid-boost that is more focused by the lower part of the frequency range. Single coil pickups on the other hand have a mid-boost focused by the upper part of the frequency range. Single coils generally have clearer, more articulate bass end.</p>

<h4 id="august-2016-1">3 August 2016</h4>

<p>Read something about bass DI in <a href="http://www.bestbassgear.com/ebass/gear/electronics/pedals/why-is-di-so-important-to-bass-players.html">this</a> article today.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2016/07/05/making-screencasts-in-debian/">Making Screencasts in Debian</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2016-07-05T13:07:45+05:30'><span class='date'><span class='date-month'>Jul</span> <span class='date-day'>5</span><span class='date-suffix'>th</span>, <span class='date-year'>2016</span></span> <span class='time'>1:07 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h1 id="overview">Overview</h1>

<p>I thought I’ll try something new by recording screencasts for some of my <a href="https://github.com/v0dro">work on Ruby</a> open source libraries.</p>

<p>This is quite a change for me since I’m primarily focused on the programming and designing side of things. Creating documentation is something I’ve not ventured into a lot except the usual <a href="http://yardoc.org/">YARD markup</a> for Ruby methods and classes.</p>

<p>In this blog post (which I will keep updating as time progresses) I hope to document my efforts in creating screencasts. Mind you this is the first time I’m creating a screencast so if you find any potential improvements in my methods please point them out in the comments.</p>

<h1 id="creating-the-video">Creating the video</h1>

<p>My first ever screencast will be for my <a href="https://github.com/v0dro/benchmark-plot">benchmark-plot</a> gem. For creating the video I’m mainly using two tools - <a href="https://kdenlive.org/">Kdenlive</a> for video editing and <a href="https://launchpad.net/kazam">Kazam</a> for recording screen activity. I initially tried using <a href="http://www.pitivi.org/">Pitivi</a> and <a href="http://www.openshot.org/">OpenShot</a> for video editing, but the former did not seem user friendly and the latter kept crashing on my system. For the desktop recording I first tried using <a href="http://recordmydesktop.sourceforge.net/about.php">RecordMyDesktop</a> but gave up on it since it’s too heavy on resources and recoreded poor quality screencasts with not too many customization options.</p>

<p>For creating informative visuals, I’m using <a href="https://www.libreoffice.org/discover/impress/">LibreOffice Impress</a> so that I can create a slide, take it’s screenshot when in slideshow mode and put in the screencast. However I’ve generally found that using slides does not serve well the content delivery in a screencast and will probably not feature too many slides in future screencasts.</p>

<p><a href="https://www.sublimetext.com/3">Sublime Text 3</a> is my primary text editor. I use it’s in built code execution functionality (by pressing <code>Ctrl + Shift + B</code>) to execute a code snippet and display the results immediately.</p>

<h1 id="creating-the-audio">Creating the audio</h1>

<p>I am using Audacity for recording sound. Sadly my mic produces a lot of noise, so for removing that noise in Audacity, I use the inbuilt noise reduction tools.</p>

<p>Noise reduction in Audacity can be achieved by first selecting a small part of the sound that does not contain speech, then go to Effects -&gt; Noise Reduction and click on ‘Get Noise Profile’. Then select the whole sound wave with <code>Ctrl + A</code>. Go to Effects -&gt; Noise Reduction again and click ‘OK’. It should considerably reduce static noise from your sound file.</p>

<p>All files are exported to Ogg Vorbis.</p>

<h1 id="putting-it-all-together">Putting it all together</h1>

<p>I did some research on the screencasting process and found <a href="http://devblog.avdi.org/2013/01/21/my-screencasting-process/">this article</a> by Avdi Grimm and <a href="https://build-podcast.com/setup/">this one</a> by Sayanee Basu extremely helpful.</p>

<p>I first started by writing the transcript along with any code samples that I had to show. I made it a point to describe the code being typed/displayed on the screen since it’s generally more useful to have a voice over explaning the code than having to pause the video and go over it yourself.</p>

<p>Then I recorded the voice over just for the part that featured slides. I imported the screenshots of the slides in kdenlive and adjusted them such that they fit the voice over. Recording the code samples was a bit of a challenge. I started typing out the code and talking about it into the mic. This was more difficult than I thought, almost like playing a Guitar and singing at the same time. I ended up recording the screencast in 4 separate takes, with several retakes for each take.</p>

<p>After importing the screencast with voice over into kdenlive and separating the audio and video components, I did some cuts to reduce redundancy or imperfections in my VO. Some of the parts of the video where there was a lot of typing had to be sped up by using kdenlive’s Speed tool.</p>

<p>Once this was upto my satisfaction, I exported it to mp4.</p>

<p>The video of my first screencast is now up on YouTube in the video below. Have a look and leave your feedback in the comments!</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/WW6M4Df-soQ" frameborder="0" allowfullscreen=""></iframe>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/08/16/summary-of-work-this-summer-for-gsoc-2015/">Summary of Work This Summer for GSOC 2015</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-08-16T13:38:51+05:30'><span class='date'><span class='date-month'>Aug</span> <span class='date-day'>16</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>1:38 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Over this summer as a part of <a href="www.google-melange.com">Google Summer of Code 2015</a>, <a href="www.github.com/v0dro/daru/">daru</a> received a lot of upgrades and new features which have made a pretty robust tool for data analysis in pure ruby. Of course, a lot of work still remains for bringing daru at par with the other data analysis solutions on offer today, but I feel the work done this summer has put daru on that path.</p>

<p>The new features led to the inclusion of daru in many of SciRuby’s gems, which use daru’s data storage, access and indexing features for storing and carrying around data. <a href="https://github.com/SciRuby/statsample">Statsample</a>, <a href="https://github.com/SciRuby/statsample-glm">statsample-glm</a>, <a href="https://github.com/SciRuby/statsample-timeseries">statsample-timeseries</a>, <a href="https://github.com/SciRuby/statsample-bivariate-extension">statsample-bivariate-extensions</a> are all now compatible with daru and use Vector and DataFrame as their primary data structures. Daru’s <a href="http://nbviewer.ipython.org/github/SciRuby/sciruby-notebooks/blob/master/Visualization/Visualizing%20data%20with%20daru%20DataFrame.ipynb">plotting functionality</a>, that interfaced with <a href="https://github.com/domitry/nyaplot">nyaplot</a> for creating interactive plots directly from the data was also significantly overhauled.</p>

<p>Also, new gems developed by other GSOC students, notably <a href="https://github.com/dilcom/gnuplotrb">Ivan’s GnuplotRB gem</a> and <a href="https://github.com/agisga/mixed_models">Alexej’s mixed_models gem</a> both accept data from daru data structures. Do see their repo pages for seeing interesting ways of using daru.</p>

<p>The work on daru is also proving to be quite useful for other people, which led a talk/presentation at <a href="http://www.deccanrubyconf.org/">DeccanRubyConf 2015</a>, which is one of the three major ruby conferences in India. You can see the slides and notebooks presented at the talk <a href="https://github.com/v0dro/talks/tree/master/DeccanRubyConf15">here</a>. Given the current interest in data analysis and the need for a viable solution in ruby, I plan to take daru much further. Keep watching the repo for interesting updates :)</p>

<p>In the rest of this post I’ll elaborate on all the work done this summer.</p>

<h2 id="pre-mid-term-submissions">Pre-mid term submissions</h2>

<p>Daru as a gem before GSOC was not exactly user friendly. There were many cases, particularly the iterators, that required some thinking before anybody used them. This is against the design philosophy of daru, or even ruby general, where surprising programmers with ubiqtuos constructs is usually frowned down upon by the community. So the first thing that I did mainly concerned overhauling the daru’s many iterators for both <code>Vector</code> and <code>DataFrame</code>.</p>

<p>For example, the <code>#map</code> iterator from <code>Enumerable</code> returns an <code>Array</code> no matter object you call it on. This was not the case before, where <code>#map</code> would a <code>Daru::Vector</code> or <code>Daru::DataFrame</code>. This behaviour was changed, and now <code>#map</code> returns an <code>Array</code>. If you want a <code>Vector</code> or a <code>DataFrame</code> of the modified values, you should call <code>#recode</code> on <code>Vector</code> or <code>DataFrame</code>.</p>

<p>Each of these iterators also accepts an optional argument, <code>:row</code> or <code>:vector</code>, which will define the axis over which iteration is supposed to be carried out. So now there are the <code>#each</code>, <code>#map</code>, <code>#map!</code>, <code>#recode</code>, <code>#recode!</code>, <code>#collect</code>, <code>#collect_matrix</code>, <code>#all?</code>, <code>#any?</code>, <code>#keep_vector_if</code> and <code>#keep_row_if</code>. To iterate over elements along with their respective indexes (or labels), you can likewise use <code>#each_row_with_index</code>, <code>#each_vector_with_index</code>, <code>#map_rows_with_index</code>, <code>#map_vector_with_index</code>, <code>#collect_rows_with_index</code>, <code>#collect_vector_with_index</code> or <code>#each_index</code>. I urge you to go over the docs of each of these methods to utilize the full power of daru.</p>

<p>Apart from this there was also quite a bit of refactoring involved for many methods (courtesy <a href="https://github.com/agisga">Alexej</a>). This has made daru much faster than previous versions.</p>

<p>The next (major) thing to do was making daru compatible with statsample. This was very essential since statsample is very important tool for statistics in ruby and it was using its own <code>Vector</code> and <code>Dataset</code> classes, which weren’t very robust as computation tools and very difficult to use when it came to cleaning or munging data. So I replaced statsample’s Vector and Dataset clases with Daru::Vector and Daru::DataFrame. It involved a significant amount of work on both statsample and daru. Statsample because many constructs had to changed to make them compatible with daru, and daru because there was a lot of essential functionality in these classes that had to be ported to daru.</p>

<p>Porting code from statsample to daru improved daru significantly. There were a whole of statistics methods in statsample that were imported into daru and you can now use all them from daru. Statsample also works well with <a href="https://github.com/clbustos/rubyvis">rubyvis</a>, a great tool for visualization. <a href="https://github.com/SciRuby/statsample#visualizations">You can now do that with daru as well</a>.</p>

<p>Many new methods for reading and writing data to and from files were also added to daru. You can now read and write data to and from CSV, Excel, plain text files or even SQL databases.</p>

<p>In effect, daru is now completely compatible with statsample (and all the other statsample extensions). You can use daru data structures for storing data and pass them to statsample for performing computations. The biggest advantage of this approach is that the analysed data can be passed around to other scientific ruby libraries (some of which listed above) that use daru as well. Since daru offers in-built functions to better ‘see’ your data, better visualization is possible.</p>

<p>See these <a href="https://github.com/v0dro/daru#blog-posts">blogs</a> and <a href="https://github.com/v0dro/daru#notebooks">notebooks</a> for a complete overview of daru’s new features.</p>

<p>Also see the <a href="https://github.com/SciRuby/statsample#notebooks">notebooks in the statsample README</a> for using daru with statsample.</p>

<h2 id="post-mid-term-submissions">Post-mid term submissions</h2>

<p>Most of time post the mid term submissions was spent in implementing the time series functions for daru.</p>

<p>I implemented a new index, the DateTimeIndex, which can used for indexing data on time stamps. It enables users to query data based on time stamps. Time stamps can either be specified with precise ruby DateTime objects or can be specified as strings, which will lead to retrival of all the data falling under that time. For example specifying ‘2012’ returns all data that falls in the year 2012. See detailed usage of <code>DateTimeIndex</code> in conjunction with other daru constructs <a href="https://github.com/v0dro/daru/blob/master/README.md">in the daru README</a>.</p>

<p>An essential utility in implementing <code>DateTimeIndex</code> was <code>DateOffset</code>, which is a new set of classes that offsets dates based on certain rules or business logic. It can advance or lag a ruby <code>DateTime</code> to the nearest day or any day of the week or the end or beginning of the month etc. <code>DateOffset</code> is an essential part of <code>DateTimeIndex</code> and can also be used as a standalone utility for advancing/lagging <code>DateTime</code> objects. <a href="http://v0dro.github.io/blog/2015/07/27/date-offsets-in-daru/">This blog post</a> elaborates more on the nuances of <code>DateOffset</code> and its usage.</p>

<p>The last thing done during the post mid term was complete compatibility with <a href="https://github.com/SciRuby/statsample-timeseries">statsample-timeseries</a>, which was created by <a href="https://github.com/AnkurGel">Ankur Goel</a> during GSOC 2013. It offers many uesful functions for analysis of time series data. It now works with daru containers. See some use cases <a href="https://github.com/SciRuby/statsample-timeseries/blob/master/README.rdoc">here</a>.</p>

<p>Thats all, as far as I can remember.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/08/16/elaboration-on-certain-internals-of-daru/">Elaboration on Certain Internals of Daru</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-08-16T13:36:34+05:30'><span class='date'><span class='date-month'>Aug</span> <span class='date-day'>16</span><span class='date-suffix'>th</span>, <span class='date-year'>2015</span></span> <span class='time'>1:36 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>In this blog post I will elaborate on how a few of the features in <a href="https://github.com/v0dro/daru">daru</a> were implemeted. Notably I will stress on what spurred a need for that particular design of the code.</p>

<p>This post is primarily intended to serve as documentation for me and future contributors. If readers have any inputs on improving this post, I’d be happy to accept new contributions :)</p>

<h2 id="index-factory-architecture">Index factory architecture</h2>

<p>Daru currently supports three types of indexes, Index, MultiIndex and DateTimeIndex.</p>

<p>It became very tedious to write if statements in the Vector or DataFrame codebase whenever a new data structure was to be created, since there were 3 possible indexes that could be attached with every data set. This mainly depended on what kind of data was present in the index, i.e. tuples would create a MultiIndex, DateTime objects or date-like strings would create a DateTimeIndex, and everything else would create a Daru::Index.</p>

<p>This looked something like the perfect use case for the <a href="https://en.wikipedia.org/wiki/Factory_method_pattern">factory pattern</a>, the only hurdle being that the factory pattern in the pure sense of the term would be a superclass, something called <code>Daru::IndexFactory</code> that created an Index, DateTimeIndex or MultiIndex index using some methods and logic. The problem is that I did not want to call a separate class for creating Indexes. This would break existing code and possibly cause problems in libraries that were already using daru (viz. <a href="https://github.com/SciRuby/statsample">statsample</a>), not to mention confusing users about which class they’re actually supposed to be using.</p>

<p>The solution came after I read <a href="http://blog.sidu.in/2007/12/rubys-new-as-factory.html">this blog post</a>, which demonstrates that the <code>.new</code> method for any class can be overridden. Thus, instead of calling <code>initialize</code> for creating the instance of a class, it calls the overridden <code>new</code>, which can then call initialize for instantiating an instance of that class. It so happens that you can make <code>new</code> return any object you want, unlike initialize which must an instance of the class it is declared in. Thus, for the factory pattern implementation of Daru::Index, we over-ride the <code>.new</code> method of the Daru::Index and write logic such that it manufactures the appropriate kind of index based on the data that is passed to <code>Daru::Index.new(data)</code>. The pseudo code for doing this looks something like this:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
<span class="line-number">18</span>
<span class="line-number">19</span>
</pre></td><td class="code"><pre><code class="ruby"><span class="line"><span class="k">class</span> <span class="nc">Daru</span><span class="o">::</span><span class="no">Index</span>
</span><span class="line">  <span class="c1"># some stuff...</span>
</span><span class="line">
</span><span class="line">  <span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">new</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">block</span>
</span><span class="line">    <span class="n">source</span> <span class="o">=</span> <span class="n">args</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span>
</span><span class="line">
</span><span class="line">    <span class="k">if</span> <span class="n">source_looks_like_a_multi_index</span>
</span><span class="line">      <span class="n">create_multi_index_and_return</span>
</span><span class="line">    <span class="k">elsif</span> <span class="n">source_looks_like_date_time_index</span>
</span><span class="line">      <span class="n">create_date_time_index_and_return</span>
</span><span class="line">    <span class="k">else</span> <span class="c1"># Create the Daru::Index by calling initialize</span>
</span><span class="line">      <span class="n">i</span> <span class="o">=</span> <span class="nb">self</span><span class="o">.</span><span class="n">allocate</span>
</span><span class="line">      <span class="n">i</span><span class="o">.</span><span class="n">send</span> <span class="ss">:initialize</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">block</span>
</span><span class="line">      <span class="n">i</span>
</span><span class="line">    <span class="k">end</span>
</span><span class="line">  <span class="k">end</span>
</span><span class="line">
</span><span class="line">  <span class="c1"># more stuff...</span>
</span><span class="line"><span class="k">end</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>Also, since over-riding <code>.new</code> tampers with the subclasses of the class as well, <a href="https://github.com/v0dro/daru/blob/master/lib/daru/index.rb#L14">an <code>inherited</code> hook that replaces the over-ridden <code>.new</code></a> of the inherited class with the original one was added to <code>Daru::Index</code>.</p>

<h2 id="working-of-the-where-clause">Working of the where clause</h2>

<p>The where clause in daru lets users query data with a Array containing boolean variables. So whenever you call <code>where</code> on Daru::Vector or DataFrame, and pass in an Array containing true or false values, all the rows corresponding with <code>true</code> will be returned as a Vector or DataFrame respectively.</p>

<p>Since the where clause works in cojunction with the comparator methods of Daru::Vector (which return a Boolean Array), it was essential for these boolean arrays to be combined together such that piecewise AND and OR operations could be performed between multiple boolean arrays. Hence, the <code>Daru::Core::Query::BoolArray</code> class was created, which is specialized for handling boolean arrays and performing piecewise boolean operations.</p>

<p>The BoolArray defines the <code>#&amp;</code> method for piecewise AND operations and it defines the <code>#|</code> method for piecewise OR operations. They work as follows:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
</pre></td><td class="code"><pre><code class="ruby"><span class="line"><span class="nb">require</span> <span class="s1">&#39;daru&#39;</span>
</span><span class="line">
</span><span class="line"><span class="n">a</span> <span class="o">=</span> <span class="no">Daru</span><span class="o">::</span><span class="no">Core</span><span class="o">::</span><span class="no">Query</span><span class="o">::</span><span class="no">BoolArray</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="o">[</span><span class="kp">true</span><span class="p">,</span><span class="kp">false</span><span class="p">,</span><span class="kp">false</span><span class="p">,</span><span class="kp">true</span><span class="p">,</span><span class="kp">false</span><span class="p">,</span><span class="kp">true</span><span class="o">]</span><span class="p">)</span>
</span><span class="line"><span class="c1">#=&gt; (Daru::Core::Query::BoolArray:84314110 bool_arry=[true, false, false, true, false, true])</span>
</span><span class="line"><span class="n">b</span> <span class="o">=</span> <span class="no">Daru</span><span class="o">::</span><span class="no">Core</span><span class="o">::</span><span class="no">Query</span><span class="o">::</span><span class="no">BoolArray</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="o">[</span><span class="kp">false</span><span class="p">,</span><span class="kp">true</span><span class="p">,</span><span class="kp">false</span><span class="p">,</span><span class="kp">true</span><span class="p">,</span><span class="kp">false</span><span class="p">,</span><span class="kp">true</span><span class="o">]</span><span class="p">)</span>
</span><span class="line"><span class="c1">#=&gt; (Daru::Core::Query::BoolArray:84143650 bool_arry=[false, true, false, true, false, true])</span>
</span><span class="line"><span class="n">a</span> <span class="o">&amp;</span> <span class="n">b</span>
</span><span class="line"><span class="c1">#=&gt; (Daru::Core::Query::BoolArray:83917880 bool_arry=[false, false, false, true, false, true])</span>
</span><span class="line"><span class="n">a</span> <span class="o">|</span> <span class="n">b</span>
</span><span class="line"><span class="c1">#=&gt; (Daru::Core::Query::BoolArray:83871560 bool_arry=[true, true, false, true, false, true])</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/08/03/finding-and-combining-data-in-daru/">Finding and Combining Data in Daru</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-08-03T00:22:19+05:30'><span class='date'><span class='date-month'>Aug</span> <span class='date-day'>3</span><span class='date-suffix'>rd</span>, <span class='date-year'>2015</span></span> <span class='time'>12:22 am</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><h2 id="arel-like-query-syntax">Arel-like query syntax</h2>

<p><a href="https://github.com/rails/arel">Arel</a> is a very popular ruby gem that is one of the major components of the most popular ruby framework, <a href="https://github.com/rails/rails">Rails</a>. It is an ORM-helper of sorts that exposes a beatiful and intuitive syntax for creating SQL strings by chaining Ruby methods.</p>

<p>Daru successfully adopts this syntax and the result is a very intuitive and readable syntax for obtaining any sort of data from a DataFrame or Vector.</p>

<p>As a quick demonstration, lets create a DataFrame which looks like this:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
</pre></td><td class="code"><pre><code class="ruby"><span class="line"><span class="nb">require</span> <span class="s1">&#39;daru&#39;</span>
</span><span class="line">
</span><span class="line"><span class="n">df</span> <span class="o">=</span> <span class="no">Daru</span><span class="o">::</span><span class="no">DataFrame</span><span class="o">.</span><span class="n">new</span><span class="p">({</span>
</span><span class="line">  <span class="ss">a</span><span class="p">:</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="o">]*</span><span class="mi">100</span><span class="p">,</span>
</span><span class="line">  <span class="ss">b</span><span class="p">:</span> <span class="o">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span><span class="s1">&#39;b&#39;</span><span class="p">,</span><span class="s1">&#39;c&#39;</span><span class="p">,</span><span class="s1">&#39;d&#39;</span><span class="p">,</span><span class="s1">&#39;e&#39;</span><span class="p">,</span><span class="s1">&#39;f&#39;</span><span class="o">]*</span><span class="mi">100</span><span class="p">,</span>
</span><span class="line">  <span class="ss">c</span><span class="p">:</span> <span class="o">[</span><span class="mi">11</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="mi">33</span><span class="p">,</span><span class="mi">44</span><span class="p">,</span><span class="mi">55</span><span class="p">,</span><span class="mi">66</span><span class="o">]*</span><span class="mi">100</span>
</span><span class="line"><span class="p">},</span> <span class="ss">index</span><span class="p">:</span> <span class="p">(</span><span class="mi">1</span><span class="o">.</span><span class="n">.</span><span class="mi">600</span><span class="p">)</span><span class="o">.</span><span class="n">to_a</span><span class="o">.</span><span class="n">shuffle</span><span class="p">)</span>
</span><span class="line"><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="c1">#=&gt; </span>
</span><span class="line"><span class="c1">##&lt;Daru::DataFrame:80543480 @name = 3fc642f2-bd9a-4f6f-b4a8-0779253720f5 @size = 5&gt;</span>
</span><span class="line"><span class="c1">#                    a          b          c </span>
</span><span class="line"><span class="c1">#       109          1          a         11 </span>
</span><span class="line"><span class="c1">#       381          2          b         22 </span>
</span><span class="line"><span class="c1">#       598          3          c         33 </span>
</span><span class="line"><span class="c1">#       390          4          d         44 </span>
</span><span class="line"><span class="c1">#       344          5          e         55</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>To select all rows where <code>df[:a]</code> equals 2 or <code>df[:c]</code> equals 55, just write this:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
</pre></td><td class="code"><pre><code class="ruby"><span class="line"><span class="n">selected</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">df</span><span class="o">[</span><span class="ss">:a</span><span class="o">].</span><span class="n">eq</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="o">|</span> <span class="n">df</span><span class="o">[</span><span class="ss">:c</span><span class="o">].</span><span class="n">eq</span><span class="p">(</span><span class="mi">55</span><span class="p">))</span>
</span><span class="line"><span class="n">selected</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="c1"># =&gt; </span>
</span><span class="line"><span class="c1">##&lt;Daru::DataFrame:79941980 @name = 74175f76-9dce-4b5d-b85b-bdfbb650953e @size = 5&gt;</span>
</span><span class="line"><span class="c1">#                    a          b          c </span>
</span><span class="line"><span class="c1">#       381          2          b         22 </span>
</span><span class="line"><span class="c1">#       344          5          e         55 </span>
</span><span class="line"><span class="c1">#       135          2          b         22 </span>
</span><span class="line"><span class="c1">#       524          5          e         55 </span>
</span><span class="line"><span class="c1">#       266          2          b         22 </span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>As is easily seen above, the Daru::Vector class has special comparators defined on it, which allow it to check each value of the Vector and return an object that can be evaluated by the <code>DataFrame#where</code> method.</p>

<p><strong>Notice that to club the two comparators above, we have used the union OR (<code>|</code>) operator.</strong></p>

<p>Daru::Vector has a bunch of comparator methods defined on it, which can be used with <code>#where</code> for obtaining the desired results. All of these return an object of type <code>Daru::Core::Query::BoolArray</code>, which is read by <code>#where</code>. <code>BoolArray</code> uses the methods <code>|</code> (also aliased as <code>#or</code>) and <code>&amp;</code> (also aliased as <code>#and</code>) for piecewise logical operations on other <code>BoolArray</code> objects.</p>

<p>BoolArray consists of an internal Array that contains <code>true</code> for every entry in the Vector that returns <code>true</code> for an operation between the comparable operand and a Vector entry.</p>

<p>For example,</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class="ruby"><span class="line"><span class="nb">require</span> <span class="s1">&#39;daru&#39;</span>
</span><span class="line">
</span><span class="line"><span class="n">vector</span> <span class="o">=</span> <span class="no">Daru</span><span class="o">::</span><span class="no">Vector</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="o">]</span><span class="p">)</span>
</span><span class="line"><span class="n">vector</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
</span><span class="line"><span class="c1">#=&gt;(Daru::Core::Query::BoolArray:82379030 bool_arry=[false, false, true, false, false, false, false, false, false, true])</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>The <code>#&amp;</code> (or <code>#and</code>) and <code>#|</code> (or  <code>#or</code>) methods on BoolArray apply a logical <code>and</code> and a logical <code>or</code> respectively between each element of the BoolArray and return another BoolArray that contains the results. For example:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class="ruby"><span class="line"><span class="nb">require</span> <span class="s1">&#39;daru&#39;</span>
</span><span class="line">
</span><span class="line"><span class="n">vector</span> <span class="o">=</span> <span class="no">Daru</span><span class="o">::</span><span class="no">Vector</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">9</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="o">]</span><span class="p">)</span>
</span><span class="line"><span class="n">vector</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span><span class="o">.</span><span class="n">or</span><span class="p">(</span><span class="n">vector</span><span class="o">.</span><span class="n">mt</span><span class="p">(</span><span class="mi">8</span><span class="p">))</span>
</span><span class="line"><span class="c1">#=&gt; (Daru::Core::Query::BoolArray:82294620 bool_arry=[false, false, false, true, false, false, false, false, false, true, true, true, false, false, true, false, true]) </span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>The following comparators can be used with a <code>Daru::Vector</code>:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Comparator Method</th>
      <th style="text-align: left">Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><code>eq</code></td>
      <td style="text-align: left">Uses <code>==</code> and returns <code>true</code> for each <strong>equal</strong> entry</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>not_eq</code></td>
      <td style="text-align: left">Uses <code>!=</code> and returns <code>true</code> for each <strong>unequal</strong> entry</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>lt</code></td>
      <td style="text-align: left">Uses <code>&lt;</code> and returns <code>true</code> for each entry <strong>less than</strong> the supplied object</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>lteq</code></td>
      <td style="text-align: left">Uses <code>&lt;=</code> and returns <code>true</code> for each entry <strong>less than or equal to</strong> the supplied object</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>mt</code></td>
      <td style="text-align: left">Uses <code>&gt;</code> and returns <code>true</code> for each entry <strong>more than</strong> the supplied object</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>mteq</code></td>
      <td style="text-align: left">Uses <code>&gt;=</code> and returns <code>true</code> for each entry <strong>more than or equal to</strong> the supplied object</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>in</code></td>
      <td style="text-align: left">Uses <code>==</code> for each element in the collection (Array, Daru::Vector, etc.) passed and returns <code>true</code> for a match</td>
    </tr>
  </tbody>
</table>

<p>A major advantage of using the <code>#where</code> clause over <code>DataFrame#filter</code> or <code>Vector#keep_if</code>, apart from better readability and usability, is that it is much faster. <a href="https://github.com/v0dro/daru/blob/master/benchmarks/where_vs_filter.rb">These benchmarks</a> prove my point.</p>

<p>I’ll conclude this chapter with a little more complex example of using the arel-like query syntax with a <code>Daru::Vector</code> object:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
</pre></td><td class="code"><pre><code class="ruby"><span class="line"><span class="nb">require</span> <span class="s1">&#39;daru&#39;</span>
</span><span class="line">
</span><span class="line"><span class="n">vec</span> <span class="o">=</span> <span class="no">Daru</span><span class="o">::</span><span class="no">Vector</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">336</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">35</span><span class="p">,</span><span class="mi">346</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">45</span><span class="p">,</span><span class="mi">23</span><span class="p">,</span><span class="mi">26</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">345</span><span class="p">,</span><span class="mi">2525</span><span class="p">,</span><span class="mi">22</span><span class="p">,</span><span class="mi">66</span><span class="p">,</span><span class="mi">2</span><span class="o">]</span><span class="p">)</span>
</span><span class="line"><span class="n">vec</span><span class="o">.</span><span class="n">where</span><span class="p">((</span><span class="n">vec</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="o">|</span> <span class="n">vec</span><span class="o">.</span><span class="n">eq</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">|</span> <span class="n">vec</span><span class="o">.</span><span class="n">mt</span><span class="p">(</span><span class="mi">300</span><span class="p">))</span> <span class="o">&amp;</span> <span class="n">vec</span><span class="o">.</span><span class="n">lt</span><span class="p">(</span><span class="mi">2000</span><span class="p">))</span>
</span><span class="line"><span class="c1"># =&gt; </span>
</span><span class="line"><span class="c1"># #&lt;Daru::Vector:70585830 @name = nil @size = 5 &gt;</span>
</span><span class="line"><span class="c1">#     nil</span>
</span><span class="line"><span class="c1">#   0   1</span>
</span><span class="line"><span class="c1">#   3   4</span>
</span><span class="line"><span class="c1">#   7 336</span>
</span><span class="line"><span class="c1">#  14 346</span>
</span><span class="line"><span class="c1">#  21 345</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>For more examples on using the arel-like query syntax, see <a href="">this notebook</a>.
## Joins</p>

<p>Daru::DataFrame offers the <code>#join</code> method for performing SQL style joins between two DataFrames. Currently #join supports inner, left outer, right outer and full outer joins between DataFrames.</p>

<p>In order to demonstrate joins, lets consider a single example of an inner on two DataFrames:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
<span class="line-number">15</span>
<span class="line-number">16</span>
<span class="line-number">17</span>
</pre></td><td class="code"><pre><code class="ruby"><span class="line"><span class="nb">require</span> <span class="s1">&#39;daru&#39;</span>
</span><span class="line">
</span><span class="line"><span class="n">left</span> <span class="o">=</span> <span class="no">Daru</span><span class="o">::</span><span class="no">DataFrame</span><span class="o">.</span><span class="n">new</span><span class="p">({</span>
</span><span class="line">  <span class="ss">:id</span>   <span class="o">=&gt;</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="o">]</span><span class="p">,</span>
</span><span class="line">  <span class="ss">:name</span> <span class="o">=&gt;</span> <span class="o">[</span><span class="s1">&#39;Pirate&#39;</span><span class="p">,</span> <span class="s1">&#39;Monkey&#39;</span><span class="p">,</span> <span class="s1">&#39;Ninja&#39;</span><span class="p">,</span> <span class="s1">&#39;Spaghetti&#39;</span><span class="o">]</span>
</span><span class="line"><span class="p">})</span>
</span><span class="line"><span class="n">right</span> <span class="o">=</span> <span class="no">Daru</span><span class="o">::</span><span class="no">DataFrame</span><span class="o">.</span><span class="n">new</span><span class="p">({</span>
</span><span class="line">  <span class="ss">:id</span> <span class="o">=&gt;</span> <span class="o">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="o">]</span><span class="p">,</span>
</span><span class="line">  <span class="ss">:name</span> <span class="o">=&gt;</span> <span class="o">[</span><span class="s1">&#39;Rutabaga&#39;</span><span class="p">,</span> <span class="s1">&#39;Pirate&#39;</span><span class="p">,</span> <span class="s1">&#39;Darth Vader&#39;</span><span class="p">,</span> <span class="s1">&#39;Ninja&#39;</span><span class="o">]</span>
</span><span class="line"><span class="p">})</span>
</span><span class="line"><span class="n">left</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">right</span><span class="p">,</span> <span class="ss">on</span><span class="p">:</span> <span class="o">[</span><span class="ss">:name</span><span class="o">]</span><span class="p">,</span> <span class="ss">how</span><span class="p">:</span> <span class="ss">:inner</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="c1">#=&gt; </span>
</span><span class="line"><span class="c1">##&lt;Daru::DataFrame:73134350 @name = 7cc250a9-108c-4ea3-99ab-dcb828ff2b88 @size = 2&gt;</span>
</span><span class="line"><span class="c1">#                 id_1       name       id_2 </span>
</span><span class="line"><span class="c1">#         0          1     Pirate          2 </span>
</span><span class="line"><span class="c1">#         1          3      Ninja          4 </span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>For more examples please refer <a href="">this notebook</a>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2015/07/31/analysis-of-time-series-in-daru/">Analysis of Time Series in Daru</a></h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2015-07-31T18:26:23+05:30'><span class='date'><span class='date-month'>Jul</span> <span class='date-day'>31</span><span class='date-suffix'>st</span>, <span class='date-year'>2015</span></span> <span class='time'>6:26 pm</span></time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>The newest release of daru brings alongwith it added support for time series data analysis, manipulation and visualization.</p>

<p>A time series is any data is indexed (or labelled) by time. This includes the stock market index, prices of crude oil or precious metals, or even geo-locations over a period of time.</p>

<p>The primary manner in which daru implements a time series is by indexing data objects (i.e Daru::Vector or Daru::DataFrame) on a new index called the DateTimeIndex. A DateTimeIndex consists of dates, which can queried individually or sliced.</p>

<h2 id="introduction">Introduction</h2>

<p>A very basic time series can be created with something like this:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
</pre></td><td class="code"><pre><code class="ruby"><span class="line"><span class="nb">require</span> <span class="s1">&#39;distribution&#39;</span>
</span><span class="line"><span class="nb">require</span> <span class="s1">&#39;daru&#39;</span>
</span><span class="line">
</span><span class="line"><span class="n">rng</span> <span class="o">=</span> <span class="no">Distribution</span><span class="o">::</span><span class="no">Normal</span><span class="o">.</span><span class="n">rng</span>
</span><span class="line">
</span><span class="line"><span class="n">index</span>  <span class="o">=</span> <span class="no">Daru</span><span class="o">::</span><span class="no">DateTimeIndex</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="ss">:start</span> <span class="o">=&gt;</span> <span class="s1">&#39;2012-4-2&#39;</span><span class="p">,</span> <span class="ss">:periods</span> <span class="o">=&gt;</span> <span class="mi">1000</span><span class="p">,</span> <span class="ss">:freq</span> <span class="o">=&gt;</span> <span class="s1">&#39;D&#39;</span><span class="p">)</span>
</span><span class="line"><span class="n">vector</span> <span class="o">=</span> <span class="no">Daru</span><span class="o">::</span><span class="no">Vector</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="mi">1000</span><span class="o">.</span><span class="n">times</span><span class="o">.</span><span class="n">map</span> <span class="p">{</span><span class="n">rng</span><span class="o">.</span><span class="n">call</span><span class="p">},</span> <span class="ss">index</span><span class="p">:</span> <span class="n">index</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
<p><img class="center" src="/images/daru_time_series/simple_vector.png" title="'A Simple Vector indexed on DateTimeIndex'" /></p>

<p>In the above code, the <code>DateTimeIndex.date_range</code> function is creating a <code>DateTimeIndex</code> starting from a particular date and spanning for 1000 periods, with a frequency of 1 day between period. For a complete coverage of DateTimeIndex see <a href="">this</a> notebook. For an introduction to the date offsets used by daru see <a href="http://v0dro.github.io/blog/2015/07/27/date-offsets-in-daru/">this blog post</a>.</p>

<p>The index is passed into the Vector like a normal <code>Daru::Index</code> object.</p>

<h2 id="statistics-functions-and-plotting-for-time-series">Statistics functions and plotting for time series</h2>

<p>Many functions are avaiable in daru for computing useful statistics and analysis. A brief of summary of statistics methods available on time series is as follows:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center"><strong>Method Name</strong></th>
      <th style="text-align: center"><strong>Description</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><code>rolling_mean</code></td>
      <td style="text-align: center">Calculate Moving Average</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>rolling_median</code></td>
      <td style="text-align: center">Calculate Moving Median</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>rolling_std</code></td>
      <td style="text-align: center">Calculate Moving Standard Deviation</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>rolling_variance</code></td>
      <td style="text-align: center">Calculate Moving Variance</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>rolling_max</code></td>
      <td style="text-align: center">Calculate Moving Maximum value</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>rolling_min</code></td>
      <td style="text-align: center">Calcuclate moving minimum value</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>rolling_count</code></td>
      <td style="text-align: center">Calculate moving non-missing values</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>rolling_sum</code></td>
      <td style="text-align: center">Calculate moving sum</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>ema</code></td>
      <td style="text-align: center">Calculate exponential moving average</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>macd</code></td>
      <td style="text-align: center">Moving Average Convergence-Divergence</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>acf</code></td>
      <td style="text-align: center">Calculate Autocorrelation Co-efficients of the Series</td>
    </tr>
    <tr>
      <td style="text-align: center"><code>acvf</code></td>
      <td style="text-align: center">Provide the auto-covariance value</td>
    </tr>
  </tbody>
</table>

<p>To demonstrate, the rolling mean of a Daru::Vector can be computed as follows:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
<span class="line-number">14</span>
</pre></td><td class="code"><pre><code class="ruby"><span class="line"><span class="nb">require</span> <span class="s1">&#39;daru&#39;</span>
</span><span class="line"><span class="nb">require</span> <span class="s1">&#39;distribution&#39;</span>
</span><span class="line">
</span><span class="line"><span class="n">rng</span>    <span class="o">=</span> <span class="no">Distribution</span><span class="o">::</span><span class="no">Normal</span><span class="o">.</span><span class="n">rng</span>
</span><span class="line"><span class="n">vector</span> <span class="o">=</span> <span class="no">Daru</span><span class="o">::</span><span class="no">Vector</span><span class="o">.</span><span class="n">new</span><span class="p">(</span>
</span><span class="line">  <span class="mi">1000</span><span class="o">.</span><span class="n">times</span><span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="n">rng</span><span class="o">.</span><span class="n">call</span> <span class="p">},</span>
</span><span class="line">  <span class="ss">index</span><span class="p">:</span> <span class="no">Daru</span><span class="o">::</span><span class="no">DateTimeIndex</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span>
</span><span class="line">    <span class="ss">:start</span> <span class="o">=&gt;</span> <span class="s1">&#39;2012-4-2&#39;</span><span class="p">,</span> <span class="ss">:periods</span> <span class="o">=&gt;</span> <span class="mi">1000</span><span class="p">,</span> <span class="ss">:freq</span> <span class="o">=&gt;</span> <span class="s1">&#39;D&#39;</span><span class="p">)</span>
</span><span class="line"><span class="p">)</span>
</span><span class="line"><span class="c1"># Compute the cumulative sum</span>
</span><span class="line"><span class="n">vector</span> <span class="o">=</span> <span class="n">vector</span><span class="o">.</span><span class="n">cumsum</span>
</span><span class="line"><span class="n">rolling</span> <span class="o">=</span> <span class="n">vector</span><span class="o">.</span><span class="n">rolling_mean</span> <span class="mi">60</span>
</span><span class="line">
</span><span class="line"><span class="n">rolling</span><span class="o">.</span><span class="n">tail</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
<p><img class="center" src="/images/daru_time_series/rolling_mean.png" title="'Rolling Mean Tail'" /></p>

<p>This time series can be very easily plotted with its rolling mean by using the <a href="https://github.com/dilcom/gnuplotrb">GnuplotRB</a> gem:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
</pre></td><td class="code"><pre><code class="ruby"><span class="line"><span class="nb">require</span> <span class="s1">&#39;gnuplotrb&#39;</span>
</span><span class="line">
</span><span class="line"><span class="no">GnuplotRB</span><span class="o">::</span><span class="no">Plot</span><span class="o">.</span><span class="n">new</span><span class="p">(</span>
</span><span class="line">  <span class="o">[</span><span class="n">vector</span> <span class="p">,</span> <span class="ss">with</span><span class="p">:</span> <span class="s1">&#39;lines&#39;</span><span class="p">,</span> <span class="ss">title</span><span class="p">:</span> <span class="s1">&#39;Vector&#39;</span><span class="o">]</span><span class="p">,</span>
</span><span class="line">  <span class="o">[</span><span class="n">rolling</span><span class="p">,</span> <span class="ss">with</span><span class="p">:</span> <span class="s1">&#39;lines&#39;</span><span class="p">,</span> <span class="ss">title</span><span class="p">:</span> <span class="s1">&#39;Rolling Mean&#39;</span><span class="o">]</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><img class="center" src="/images/daru_time_series/cumsum_rolling_line_graph.png" title="'Line Graph of Rolling mean and cumsum'" /></p>

<p>These methods are also available on DataFrame, which results in calling them on each of numeric vectors:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
</pre></td><td class="code"><pre><code class="ruby"><span class="line"><span class="nb">require</span> <span class="s1">&#39;daru&#39;</span>
</span><span class="line"><span class="nb">require</span> <span class="s1">&#39;distribution&#39;</span>
</span><span class="line">
</span><span class="line"><span class="n">rng</span>    <span class="o">=</span> <span class="no">Distribution</span><span class="o">::</span><span class="no">Normal</span><span class="o">.</span><span class="n">rng</span>
</span><span class="line"><span class="n">index</span>  <span class="o">=</span> <span class="no">Daru</span><span class="o">::</span><span class="no">DateTimeIndex</span><span class="o">.</span><span class="n">date_range</span><span class="p">(</span><span class="ss">:start</span> <span class="o">=&gt;</span> <span class="s1">&#39;2012-4-2&#39;</span><span class="p">,</span> <span class="ss">:periods</span> <span class="o">=&gt;</span> <span class="mi">1000</span><span class="p">,</span> <span class="ss">:freq</span> <span class="o">=&gt;</span> <span class="s1">&#39;D&#39;</span><span class="p">)</span>
</span><span class="line"><span class="n">df</span> <span class="o">=</span> <span class="no">Daru</span><span class="o">::</span><span class="no">DataFrame</span><span class="o">.</span><span class="n">new</span><span class="p">({</span>
</span><span class="line">  <span class="ss">a</span><span class="p">:</span> <span class="mi">1000</span><span class="o">.</span><span class="n">times</span><span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="n">rng</span><span class="o">.</span><span class="n">call</span> <span class="p">},</span>
</span><span class="line">  <span class="ss">b</span><span class="p">:</span> <span class="mi">1000</span><span class="o">.</span><span class="n">times</span><span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="n">rng</span><span class="o">.</span><span class="n">call</span> <span class="p">},</span>
</span><span class="line">  <span class="ss">c</span><span class="p">:</span> <span class="mi">1000</span><span class="o">.</span><span class="n">times</span><span class="o">.</span><span class="n">map</span> <span class="p">{</span> <span class="n">rng</span><span class="o">.</span><span class="n">call</span> <span class="p">}</span>
</span><span class="line"><span class="p">},</span> <span class="ss">index</span><span class="p">:</span> <span class="n">index</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
<p><img class="center" src="/images/daru_time_series/dataframe.png" title="'DateTime indexed DataFrame'" /></p>

<p>In a manner similar to that done with Vectors above, we can easily plot each Vector of the DataFrame with GNU plot:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
</pre></td><td class="code"><pre><code class="ruby"><span class="line"><span class="nb">require</span> <span class="s1">&#39;gnuplotrb&#39;</span>
</span><span class="line">
</span><span class="line"><span class="c1"># Calculate cumulative sum of each Vector</span>
</span><span class="line"><span class="n">df</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">cumsum</span>
</span><span class="line">
</span><span class="line"><span class="c1"># Compute rolling sum of each Vector with a loopback length of 60.</span>
</span><span class="line"><span class="n">r_sum</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">rolling_sum</span><span class="p">(</span><span class="mi">60</span><span class="p">)</span>
</span><span class="line">
</span><span class="line"><span class="n">plots</span> <span class="o">=</span> <span class="o">[]</span>
</span><span class="line"><span class="n">r_sum</span><span class="o">.</span><span class="n">each_vector_with_index</span> <span class="k">do</span> <span class="o">|</span><span class="n">vec</span><span class="p">,</span><span class="n">n</span><span class="o">|</span>
</span><span class="line">  <span class="n">plots</span> <span class="o">&lt;&lt;</span> <span class="no">GnuplotRB</span><span class="o">::</span><span class="no">Plot</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="o">[</span><span class="n">vec</span><span class="p">,</span> <span class="ss">with</span><span class="p">:</span> <span class="s1">&#39;lines&#39;</span><span class="p">,</span> <span class="ss">title</span><span class="p">:</span> <span class="n">n</span><span class="o">]</span><span class="p">)</span>
</span><span class="line"><span class="k">end</span>
</span><span class="line"><span class="no">GnuplotRB</span><span class="o">::</span><span class="no">Multiplot</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="o">*</span><span class="n">plots</span><span class="p">,</span> <span class="ss">layout</span><span class="p">:</span> <span class="o">[</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="o">]</span><span class="p">,</span> <span class="ss">title</span><span class="p">:</span> <span class="s1">&#39;Rolling sums&#39;</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>
<p><img class="center" src="/images/daru_time_series/dataframe_plot.png" title="'Plotting the DataFrame'" /></p>

<h2 id="usage-with-statsample-timeseries">Usage with statsample-timeseries</h2>

<p>Daru now integrates with <a href="https://github.com/SciRuby/statsample-timeseries">statsample-timeseries</a>, a <a href="https://github.com/sciruby/statsample">statsample</a> extension that provides many useful statistical analysis tools commonly applied to time series.</p>

<p>Some examples with working examples of daru and statsample-timseries are coming soon. Stay tuned!</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/posts/2">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2016/08/27/advice-for-future-gsoc-students-and-mentors-based-on-my-experience/">Advice for Future GSOC Students and Mentors Based on My Experience.</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/08/21/setting-up-a-lexical-analyser-and-parser-in-ruby/">Setting Up a Lexical Analyser and Parser in Ruby</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/08/16/random-thoughts-on-music-theory/">Random Thoughts on Music Theory.</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/08/05/searching-for-graduate-degree-courses-in-usa-and-japan/">Searching for Graduate Degree Courses in USA and Japan.</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/07/12/random-thoughts-on-bass-tone/">Random Thoughts on Bass Tone</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/v0dro">@v0dro</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'v0dro',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2016 - Sameer Deshmukh -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'v0dro';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
